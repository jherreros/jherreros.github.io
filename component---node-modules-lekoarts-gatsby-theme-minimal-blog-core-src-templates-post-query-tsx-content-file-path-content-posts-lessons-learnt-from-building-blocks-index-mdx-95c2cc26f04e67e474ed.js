"use strict";(self.webpackChunkjuan_herreros_personal_site=self.webpackChunkjuan_herreros_personal_site||[]).push([[808],{1173:function(e,t,n){n.d(t,{p:function(){return d},A:function(){return p}});var a=n(6540),o=n(557),r=n(6835),i=n(3328),l=n(7715),s=n(7169);var h=e=>{let{post:t}=e;return null};const u=["16px","8px","4px"].map((e=>"rgba(0, 0, 0, 0.1) 0px "+e+" "+e+" 0px"));var c=e=>{let{data:{post:t},children:n}=e;return(0,o.Y)(i.A,null,(0,o.Y)(r.DZ,{as:"h1",variant:"styles.h1"},t.title),(0,o.Y)("p",{sx:{color:"secondary",mt:3,a:{color:"secondary"},fontSize:[1,1,2]}},(0,o.Y)("time",null,t.date),t.tags&&(0,o.Y)(a.Fragment,null," — ",(0,o.Y)(l.A,{tags:t.tags})),t.timeToRead&&" — ",t.timeToRead&&(0,o.Y)("span",null,t.timeToRead," min read")),(0,o.Y)("section",{sx:{my:5,".gatsby-resp-image-wrapper":{my:[4,4,5],borderRadius:"4px",boxShadow:u.join(", "),".gatsby-resp-image-image":{borderRadius:"4px"}},variant:"layout.content"}},n),(0,o.Y)(h,{post:t}))};const d=e=>{var t,n,a;let{data:{post:r}}=e;return(0,o.Y)(s.A,{title:r.title,description:r.description?r.description:r.excerpt,image:r.banner?null===(t=r.banner)||void 0===t||null===(n=t.childImageSharp)||void 0===n||null===(a=n.resize)||void 0===a?void 0:a.src:void 0,pathname:r.slug,canonicalUrl:r.canonicalUrl})};function p(e){let{...t}=e;return a.createElement(c,t)}},7715:function(e,t,n){var a=n(557),o=n(6540),r=n(4194),i=n(3601),l=n(2174);t.A=e=>{let{tags:t}=e;const{tagsPath:n,basePath:s}=(0,i.A)();return(0,a.Y)(o.Fragment,null,t.map(((e,t)=>(0,a.Y)(o.Fragment,{key:e.slug},!!t&&", ",(0,a.Y)(r.Link,{sx:e=>{var t;return{...null===(t=e.styles)||void 0===t?void 0:t.a}},to:(0,l.A)("/"+s+"/"+n+"/"+e.slug)},e.name)))))}},8413:function(e,t,n){n.r(t),n.d(t,{Head:function(){return l.p},default:function(){return s}});var a=n(6540),o=n(8453);function r(e){const t=Object.assign({p:"p",em:"em",del:"del",h3:"h3",ul:"ul",li:"li"},(0,o.RP)(),e.components);return a.createElement(a.Fragment,null,a.createElement(t.p,null,"When I first started working in Banking Circle, I was working with Infrastructure as Code (IaC).\nMaintaining a declarative definition of all the infrastructure the team was using and being able to provision it in a controlled, repeatable way, worked wonders for us. It drastically reduced drift between the different environments, which previously were handled rather manually."),"\n",a.createElement(t.p,null,'Naturally, having seen how it well worked in the team, we wanted to expand that approach to other teams that, until that point, were also handling their infrastructure the "old-school" way.\nTo do that, we bundled each of our infrastructure components (such as a database, a webapp or a secrets store), together with some auxiliary resources that would always be deployed next to them, in a re-usable, pre-configured, easy-to-use module.'),"\n",a.createElement(t.p,null,"Then, each team that wanted to get all the benefits of using IaC would ",a.createElement(t.em,null,"only")," need to create their own project using those modules. ",a.createElement(t.em,null,"How difficult could that be?")," After all, the hard work was already done inside each of the modules."),"\n",a.createElement(t.p,null,"To make things ",a.createElement(t.del,null,"worse")," better, we also took care of writing some pipeline templates that can be used to test, apply or destroy each of those IaC projects.\nOnce again, the ",a.createElement(t.em,null,"only")," thing teams need to take care of is to build a pipeline using those templates, and use that pipeline to deploy their projects."),"\n",a.createElement(t.p,null,"We did manage to expand this approach to more or less the entire Engineering Organization, however it took us quite a bit of effort not only in building these reusable components, but especially in getting people to understanding the approach and using them."),"\n",a.createElement(t.h3,null,"What works"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"These building blocks allow teams to provision infrastructure independently, without needing anyone from a different department to execute any actions on their behalf."),"\n",a.createElement(t.li,null,"New projects can be created faster and changes to those (and to existing projects, after importing/migrating them to the IaC paradigm) become so much more frequent."),"\n"),"\n",a.createElement(t.h3,null,"What doesn't work"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"Most developers I've met don't really have an interest in infrastructure and, even if they do, it's far from the top of their priority list, because they have their own concerns. Therefore, when they are asked to work on infrastructure they tend to be reluctant."),"\n",a.createElement(t.li,null,"Because of that and because infrastructure is not typically their area of expertise, they tend to need help putting those modules and templates together. In some cases, they rely on that help to get the IaC project built and released, and the knowledge doesn't really sink in."),"\n",a.createElement(t.li,null,"Because of that, whenever they need to provision some additional infrastructure, they tend to need help again. If, on top of the new requirements, they need to take care of updating the modules and/or templates, it's even more likely that they will be reluctant and that they will need help with that."),"\n"),"\n",a.createElement(t.h3,null,"A solution"),"\n",a.createElement(t.p,null,"As we can see from all the points exposed above, developers want to have the freedom of provisioning the infrastructure they need in a self-service way and they benefit from that. In most cases, they don't want to (and shouldn't) be concerned about writing IaC nor pipeline code, even if that's based on some modules or templates."),"\n",a.createElement(t.p,null,"The solution is, then, to put all that code behind an interface the developers interact with. They then provide simpler inputs, such as:"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"The name of their team, application or system"),"\n",a.createElement(t.li,null,"The people working in their team"),"\n",a.createElement(t.li,null,"Other systems or endpoints they need access to"),"\n",a.createElement(t.li,null,"(Optionally) configuration that would supplement or override the defaults for some of the resources they get"),"\n"),"\n",a.createElement(t.p,null,"This definition is still declarative, so it maintains the benefits of using IaC, but it's now based on a single component/block (this interface), so there's no need to write anything else than the input to this interface."),"\n",a.createElement(t.p,null,"Furthermore, if this interface is exposed as an API, it can easily be integrated with other solutions. This can make the developers life even easier by using a developer platform, another kind of UI, a CLI or any other integration on top of the API."),"\n",a.createElement(t.p,null,'The API is also easy to version, so handling updates to the underlying infrastructure "model" (the project behind the API) and shipping those to everyone using it is much easier than releasing updates to each building block and asking developers to keep them up-to-date.'),"\n",a.createElement(t.h3,null,"Caveats"),"\n",a.createElement(t.p,null,'Depending on the complexity and uniqueness of the infrastructure each team needs, it is possible that the resources handled through the API are not enough, and they need to be complemented with some "building blocks" (some IaC modules). This is, in some cases, preferable than introducing the complexity in the API everyone else is using.'),"\n",a.createElement(t.p,null,"This is a relatively unlikely scenario, though, as most teams can be covered by the IaC API. Even then, these teams that have specific infrastructure requirements are normally more familiar with (their) infrastructure. And still, they only have to be familiar with the part that is not covered by the more general solution."),"\n",a.createElement(t.h3,null,"Conclusion"),"\n",a.createElement(t.p,null,"All in all, allowing developers to provision their infrastructure in a self-service way is a good way of allowing them to deliver more while enjoying more their time at work.\nPutting some effort into building an API-based Platform they can interact with is a good way of having a good Developer Experience, for both people using and maintaining the Platform."),"\n",a.createElement(t.p,null,"Using building blocks, such as IaC modules or pipeline templates can still be an interesting approach while the API-based Platform is being built and/or before it is available, if the effort that goes into building those is nonetheless going to be useful in the construction of that Platform."))}var i=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,o.RP)(),e.components);return t?a.createElement(t,e,a.createElement(r,e)):r(e)},l=n(1173);function s(e){return a.createElement(l.A,e,a.createElement(i,e))}l.A}}]);
//# sourceMappingURL=component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-lessons-learnt-from-building-blocks-index-mdx-95c2cc26f04e67e474ed.js.map